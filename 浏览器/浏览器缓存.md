### 浏览器缓存

#### 强缓存
当浏览器请求某个资源时，会先从本地缓存中查找是否有该资源的缓存副本。如果存在，并且没有过期，那么直接从本地缓存中读取并返回给客户端，这就是强缓存。
强缓存通常通过设置HTTP头信息来实现，比如Expires和Cache-Control。Expires头信息指定了资源的过期时间，而Cache-Control则是更加灵活的方法，可以指定缓存的选项。如果没有指定Cache-Control头信息，则浏览器会使用默认值max-age=0，表示缓存不可用。

```JS
Cache-Control是HTTP协议中用于定义缓存控制策略的响应头，其字段如下：

public/private：用于指定是否允许所有用户（public）或仅限用户（private）缓存资源。

max-age：设定资源的最大有效时间，单位为秒。

no-cache：表示该资源允许缓存，但缓存内容必须先提交到服务器以进行验证。

no-store：禁止缓存任何版本的资源。

must-revalidate：表示在使用过期资源之前必须先向服务器发送请求以确认其有效性。

proxy-revalidate：和must-revalidate类似，但只作用于共享缓存。

no-transform：禁止代理服务器对资源进行转换。

s-maxage：覆盖max-age，针对共享缓存有效。
```

#### 协商缓存

当本地缓存没有该资源的缓存副本，或者已经过期，那么浏览器需要向服务器发送请求，服务器要根据资源的最新状态来判断返回304（Not Modified）响应还是最新的资源。如果返回304响应，表示客户端的资源仍然是最新的，此时浏览器可以直接使用本地缓存中的资源，这就是协商缓存。

协商缓存通过设置HTTP头信息来实现，主要使用的头信息有If-Modified-Since和If-None-Match。If-Modified-Since使用的是资源最后修改时间，而If-None-Match使用的是资源的唯一标识（ETag）。服务器会比较客户端发送的时间或标识与最新资源的时间或标识，如果相同，则表示没有更新，返回304响应。否则，返回最新的资源。
### 浏览器输入网址到页面呈现，发生了些什么？
1.DNS解析：浏览器首先会检查缓存中是否有对应的域名解析信息，如果没有，则向本机的DNS服务器发送一个请求。如果本地DNS服务器中也没有该域名的解析记录，则继续向外追溯，直到找到负责该域名解析的DNS服务器。

2.建立TCP连接：浏览器通过DNS解析得到的IP地址与Web服务器建立TCP连接，三次握手完成后，双方建立起可靠的连接。

3.发送HTTP请求：TCP连接建立后，浏览器向服务器发送HTTP请求。HTTP请求报文包括请求行、请求头、空行和请求数据四个部分。

4.服务器处理请求并返回HTTP响应：服务器接收到客户端请求后，会进行处理，比如读取数据库、生成动态内容等。然后将生成的HTTP响应报文通过TCP连接返回给客户端。

5.浏览器处理响应并渲染页面：浏览器接收到HTTP响应后，会根据响应报文中的HTML内容、样式文件、JavaScript等资源进行页面的渲染。

6.断开TCP连接：当浏览器完成所有渲染后，会断开与Web服务器之间的TCP连接。

- HTTP是无状态协议，每次请求和响应都是独立的，浏览器不会保留之前请求的任何信息。
- 当浏览器收到HTML响应后，会解析HTML文件构建DOM树、CSSOM树和JavaScript引擎解析执行JavaScript代码，最终渲染出页面。
- 由于JS可能会修改DOM结构或样式，因此浏览器在执行完JS代码后可能需要重新渲染页面。
- 当浏览器解析HTML文件时，如果遇到CSS和JS文件，会并行下载这些文件，以加快页面加载速度。
- 使用HTTP/2协议的情况下，可以单个TCP连接中并发多路传输请求和响应数据，以提高网页性能。

> 解析html以构建dom树 -> 构建render树 -> 布局render树 -> 绘制render树

7. 浏览器显示 HTML
**浏览器在解析html文件时，会”自上而下“加载，并在加载过程中进行解析渲染。** 在解析过程中，如果遇到请求外部资源时，如图片、外链的CSS、iconfont等，请求过程是异步的，并不会影响html文档进行加载

解析过程中，浏览器首先会解析HTML文件构建DOM树，然后解析CSS文件构建渲染树，等到渲染树构建完成后，浏览器开始布局渲染树并将其绘制到屏幕上。这个过程比较复杂，涉及到两个概念: reflow(回流)和repain(重绘)。

浏览器渲染：客户端（浏览器）解析HTML内容并渲染出来，浏览器接收到数据包后的解析流程为：

构建DOM树：词法分析然后解析成DOM树（dom tree），是由dom元素及属性节点组成，树的根是document对象
构建CSS规则树：生成CSS规则树（CSS Rule Tree）
构建render树：Web浏览器将DOM和CSSOM结合，并构建出渲染树（render tree）
布局（Layout）：计算出每个节点在屏幕中的位置
绘制（Painting）：即遍历render树，并使用UI后端层绘制每个节点。